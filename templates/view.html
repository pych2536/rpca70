{% extends "layout.html" %}
{% block title %}ข้อมูลของคุณ{% endblock %}
{% block content %}
<div class="container">
    <div class="card profile-card">
        <h2>ข้อมูลของคุณ</h2>
        <p class="status-line">สถานะ: {{ user.get('สถานะอัปเดต', 'N/A') }} (อัปเดตล่าสุด: {{ user.get('วันที่อัปเดตล่าสุด', 'N/A') }})</p>
        
        <div class="profile-grid">
            {% for col in columns %}
                {# ไม่ต้องแสดงฟิล์ดเหล่านี้ซ้ำซ้อนใน Grid #}
                {% if col not in ['สถานะอัปเดต', 'วันที่อัปเดตล่าสุด'] %}
                    <div class="data-field">
                        <label>{{ col }}</label>
                        <p>{{ user.get(col, 'N/A') }}</p>
                    </div>
                {% endif %}
            {% endfor %}
        </div>

        <div class="profile-actions">
            <a href="{{ url_for('index') }}" class="btn btn-secondary">กลับหน้าแรก</a>
            {% if settings.user_editing_enabled %}
            <a href="{{ url_for('confirm_profile', user_id=user['ลำดับ']) }}" class="btn btn-success" onclick="return confirm('คุณต้องการยืนยันว่าข้อมูลทั้งหมดนี้ถูกต้องใช่หรือไม่?');">✔️ ข้อมูลถูกต้อง</a>
            <a href="{{ url_for('edit_form', user_id=user['ลำดับ']) }}" class="btn btn-primary">✏️ แก้ไขข้อมูล</a>
            {% endif %}
        </div>
    </div>
</div>
{% endblock %}
